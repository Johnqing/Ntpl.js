(function(e,t){if(typeof exports==="object"&&exports){t(module.exports)}else{var n={};t(n);if(typeof define==="function"&&define.amd){define(n)}else{e.NT=e.NTpl=n}}})(this,function(e,t){var n=this;e.openTag="<%";e.closeTag="%>";var r={},i={},a="var ",o="".trim,l=o?['ret = "";',"ret +=",";","ret;"]:["ret = [];","ret.push(",")",'ret.join("");'];var c=Array.prototype.forEach||function(e,t){var n=this.length>>>0;for(var r=0;r<n;r++){if(r in this){e.call(t,this[r],r,this)}}};var s={};c.call(("break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if"+",in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with"+",abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto"+",implements,import,int,interface,long,native,package,private,protected,public,short"+",static,super,synchronized,throws,transient,volatile"+",arguments,let,yield").split(","),function(e){s[e]=true});function u(e){var t="[template]:\n"+e.id+"\n\n[name]:\n"+e.name;if(e.message){t+="\n\n[message]:\n"+e.message}if(e.line){t+="\n\n[line]:\n"+e.line}if(e.temp){t+="\n\n[temp]:\n"+e.temp}if(n.console){console.error(t)}}function f(t){var r=i[t];if(r)return r;if(!n.document){return e.compile(t)}var a=document.getElementById(t);if(a){e.compile(t,a.value||a.innerHTML);return i[t]}return e.compile(t)}function p(e){e=e.replace(/\/\*.*?\*\/|'[^']*'|"[^"]*"|\.[\$\w]+/g,"");var t=e.split(/[^\$\w\d]+/);c.call(t,function(e){if(!e||s[e]||/^\d/.test(e)){return}if(!r[e]){a+=e+'= $getValue("'+e+'"),';r[e]=1}})}function d(e){e=e.replace(/('|"|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n");e=l[1]+'"'+e+'"'+l[2];return e+"\n"}function m(e){if(/^=/.test(e)){e=l[1]+e.substring(1).replace(/[\s;]*$/,"")+l[2]}p(e);return e}function g(t){var n=t.split(e.openTag),r="";c.call(n,function(t){var n=t.split(e.closeTag);var i=n[0],a=n[1];if(n.length==1){r+=d(i)}else{r+=m(i);r+=a?d(a):""}});var i="function $getValue(key){return $data.hasOwnProperty(key) ? $data[key] : this[$data];};"+a+l[0]+r+"return "+l[3];try{return new Function("$data",i)}catch(o){}}e.compile=function(e,t){if(typeof t!="string"){t=e;e=null}try{var n=g(t)}catch(r){r.id=r.id||t;r.name="Syntax Error";return u(r)}e&&(i[e]=n);return n};e.tpl=function(e,n){var r=f(e);if(r===t){return u({id:e,name:"Rend Error",message:"Not get template"})}return n?r(n):r}});